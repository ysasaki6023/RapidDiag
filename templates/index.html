<!DOCTYPE html>
<html>
  <head>

    <title>Hello, world</title>

    <link rel="stylesheet" href="{{ static_url("style.css") }}"/>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            // initialize the viewer
            $('#runajax').click(function (event) {
                var valueForInput1 = $("#input1").val();
                var valueForInput2 = $("#input2").val();
                var data =
                {
                    key1: valueForInput1,
                    key2: valueForInput2
                };
                var dataToSend = JSON.stringify(data);
                $.ajax(
                        {
                            url: '/test/',
                            type: 'POST',
                            data: dataToSend,
                            success: function (jsonResponse) {
                                var objresponse = JSON.parse(jsonResponse);
                                console.log(objresponse['newkey']);
                                $("#responsefield").text(objresponse['newkey']);
                            },
                            error: function () {
                                $("#responsefield").text("Error to load api");
                            }
                        });
                event.preventDefault();
            });
        });
    </script>

  </head>

  <body>

    <div class="navbar">
        <div class="navbar-inner">
            <div class="container" style="width: auto;">
                <a class="brand" href="#">Allen Institute Hackathon</a>

                <div class="nav-collapse">
                    <ul class="nav">
                        <li class="active"><a href="#">Index</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something else here</a></li>
                                <li class="divider"></li>
                                <li class="nav-header">Nav header</li>
                                <li><a href="#">Separated link</a></li>
                                <li><a href="#">One more separated link</a></li>
                            </ul>
                        </li>
                    </ul>
                    <form class="navbar-search pull-right" action="">
                        <input type="text" class="search-query span2" placeholder="Search">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="span12">
            <div id="sdcontainer">
                <form class="well form-inline">

                    <input id="input1" type="text" class="input" placeholder="This text will get returned">
                    <input id="input2" type="text" class="input" placeholder="This text won't">

                    <button id="runajax" class="btn btn-primary">Run</button>
                </form>
                <span id="responsefield"></span>
            </div>
        </div>
    </div>
  </body>
</html>
